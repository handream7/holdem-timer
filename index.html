<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>홀덤 토너먼트 타이머</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <audio id="levelup-sound" src="https://raw.githubusercontent.com/handream7/holdem-timer/c26ac59ba57bf0a51ff16859b1c7259e2ab78f75/levelup.mp3" preload="auto"></audio>
    <audio id="break-sound" src="https://raw.githubusercontent.com/handream7/holdem-timer/d85d3afdff2389cabda7e687455c04ca133d2095/break.mp3" preload="auto"></audio>
    <audio id="one-minute-sound" src="https://raw.githubusercontent.com/handream7/holdem-timer/c3ee093dfb90e881f7019b4ac8474bfa253618de/1min.mp3" preload="auto"></audio>

    <div id="landing-page" class="page-container">
        <h1>홀덤 토너먼트 타이머</h1>
        <div class="button-group">
            <button id="create-game-btn">게임 생성</button>
        </div>
        <div id="game-list-container">
            <h2>현재 진행중인 게임</h2>
            <div id="game-list">
                </div>
        </div>
    </div>

    <div id="settings-page" class="page-container" style="display: none;">
        <h2>Holdem Timer Settings</h2>
        <div class="top-settings-grid">
            <label for="break-levels">Break After Levels (e.g., 5,10,15):</label>
            <input type="text" id="break-levels" value="5, 10, 15, 20, 25">
            <label for="break-duration">Break Duration (minutes):</label>
            <input type="number" id="break-duration" value="7">
            <label for="chip-settings">Chip Setting (x10,000):</label>
            <input type="text" id="chip-settings" value="4, 5, 5">
        </div>
        <div class="set-all-durations">
            <label for="all-duration-spinner">Set All Durations (min):</label>
            <input type="number" id="all-duration-spinner" value="15">
            <button id="apply-all-durations-btn">Apply</button>
        </div>
        <div class="preset-buttons">
            <button id="default-mode-btn">기본모드</button>
            <button id="competition-mode-btn">대회모드</button>
            <button id="gems-mode-btn">GEMS모드</button>
        </div>
        <div class="blind-grid-header">
            <div>Level</div><div>Small</div><div>Big</div><div>Ante</div><div>Duration</div><div></div>
        </div>
        <div id="blind-grid-body" class="blind-grid-body"></div>
        <button id="play-button">PLAY</button>
    </div>

    <div id="timer-page" class="page-container" style="display: none;">
        <div class="timer-grid-layout">
            <div class="left-column">
                <div class="info-block">
                    <p class="info-label">TOTAL TIME</p>
                    <p id="total-time-info" class="info-value">00:00:00</p>
                </div>
                <div class="info-block">
                    <p class="info-label">TOTAL CHIPS</p>
                    <p id="total-chips-info" class="info-value">0</p>
                    <p id="total-chips-bb-info" class="info-subtext">(0.0 BB)</p>
                </div>
                <div class="info-block">
                    <p class="info-label">AVR STACK</p>
                    <p id="avr-stack-info" class="info-value">0</p>
                    <p id="avr-stack-bb-info" class="info-subtext">(0.0 BB)</p>
                </div>
                <div class="info-block">
                    <p class="info-label">PLAYERS</p>
                    <p id="players-info" class="info-value">0/0</p>
                </div>
                <div class="info-block">
                    <p class="info-label">NEXT BREAK</p>
                    <p id="next-break-time-info" class="info-value">00:00:00</p>
                    <p id="next-break-levels-info" class="info-subtext">_ level(s) left</p>
                </div>
                <div class="info-block">
                    <p class="info-label">Prize</p>
                    <div class="prize-grid">
                        <span>1st:</span><span id="prize-1">0</span>
                        <span>2nd:</span><span id="prize-2">0</span>
                        <span>3rd:</span><span id="prize-3">0</span>
                        <span>4th:</span><span id="prize-4">0</span>
                        <span>5th:</span><span id="prize-5">0</span>
                    </div>
                </div>
            </div>
            <div class="top-right-section">
                <div class="timer-display-area">
                    <p id="level-label">Level 1</p>
                    <div class="timer-wrapper">
                        <h1 id="timer-label">00:00</h1>
                        <div id="paused-indicator">PAUSED</div>
                    </div>
                    <p id="blinds-label">Blinds: 0 / 0 / 0</p>
                    <p id="next-blinds-label">Next Level: 0 / 0 / 0</p>
                </div>
                <div class="controls-area">
                    <input type="range" min="0" max="1" value="0" step="any" class="slider" id="time-slider">
                    <div class="timer-controls-row">
                        <button id="prev-level-btn">&lt;&lt;</button>
                        <button id="play-pause-btn">&gt;</button>
                        <button id="next-level-btn">&gt;&gt;</button>
                    </div>
                    <div class="timer-controls-row">
                        <button id="time-minus-btn">&lt;(10s)</button>
                        <button id="time-plus-btn">(10s)&gt;</button>
                    </div>
                    <div class="timer-controls-row">
                        <button id="heads-up-btn">HEADS-UP ON</button>
                    </div>
                </div>
            </div>
            <div class="bottom-section">
                <div class="bottom-controls">
                    <button id="go-home-btn">첫 화면으로 돌아가기</button>
                    <button id="sound-toggle-btn">소리 끄기</button>
                    <button id="out-list-btn">Out 목록</button>
                    <button id="lock-btn">잠금</button> 
                </div>
                <div class="table-container">
                    <table id="realtime-data-table">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>플레이어</th>
                                <th>바이인</th>
                                <th>리바이1</th>
                                <th>리바이2</th>
                                <th>Out</th>
                            </tr>
                        </thead>
                        <tbody id="realtime-data-tbody">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div id="out-list-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>Out 처리된 플레이어 목록</h2>
            <ul id="out-player-list">
            </ul>
        </div>
    </div>

    <video id="wake-lock-video" loop muted playsinline 
           src="https://raw.githubusercontent.com/handream7/holdem-timer/main/silent.mp4"></video>
    <script src="script.js"></script>
</body>
</html>