<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>홀덤 블라인드 설정</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 50px;
            background-color: black; /* 배경색 검정 */
            color: white; /* 글씨색 하얀색 */
        }
        table {
            margin: 0 auto;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
        }
        th {
            background-color: #333; /* 헤더 배경색 */
        }
        input {
            width: 80px;
            color: black; /* 입력 필드 글씨색 */
        }
        button {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>홀덤 블라인드 설정</h1>
    <table>
        <thead>
            <tr>
                <th>Level</th>
                <th>Small</th>
                <th>Big</th>
                <th>Ante</th>
                <th>Duration (분)</th>
                <th>Break (분)</th>
            </tr>
        </thead>
        <tbody id="blindTableBody">
            <!-- 자바스크립트로 레벨을 추가합니다. -->
        </tbody>
    </table>
    <button type="button" onclick="startTimer()">플레이</button>

    <script>
        const blindTableBody = document.getElementById('blindTableBody');

        // 기본값 설정
        const defaultBlinds = [
            [100, 200, 200, 15, 0],
            [200, 300, 300, 15, 0],
            [200, 400, 400, 15, 0],
            [300, 500, 500, 15, 0],
            [300, 600, 600, 15, 7],
            [400, 800, 800, 15, 0],
            [500, 1000, 1000, 15, 0],
            [600, 1200, 1200, 15, 0],
            [800, 1500, 1500, 15, 0],
            [1000, 1500, 1500, 15, 7],
            [1000, 2000, 2000, 12, 0],
            [1500, 2500, 2500, 12, 0],
            [1500, 3000, 3000, 12, 0],
            [2000, 4000, 4000, 12, 0],
            [2500, 5000, 5000, 12, 7],
            [3000, 6000, 6000, 8, 0],
            [4000, 8000, 8000, 8, 0],
            [5000, 10000, 10000, 8, 0],
            [6000, 12000, 12000, 8, 0],
            [8000, 16000, 16000, 8, 7],
            [10000, 20000, 20000, 6, 0],
            [15000, 25000, 25000, 6, 0],
            [15000, 30000, 30000, 6, 0],
            [20000, 40000, 40000, 6, 0],
            [25000, 50000, 50000, 6, 0],
            [30000, 60000, 60000, 6, 0],
        ];

        // 레벨 1부터 26까지 생성
        for (let i = 1; i <= 26; i++) {
            const values = defaultBlinds[i - 1];
            blindTableBody.innerHTML += `
                <tr>
                    <td>${i}</td>
                    <td><input type="text" id="small${i}" value="${formatNumberWithCommas(values[0])}" required oninput="formatInput(this)"></td>
                    <td><input type="text" id="big${i}" value="${formatNumberWithCommas(values[1])}" required oninput="formatInput(this)"></td>
                    <td><input type="text" id="ante${i}" value="${formatNumberWithCommas(values[2])}" required oninput="formatInput(this)"></td>
                    <td><input type="number" id="dur${i}" value="${values[3]}" required></td>
                    <td><input type="number" id="brk${i}" value="${values[4]}" required></td>
                </tr>
            `;
        }

        function formatInput(input) {
            // 입력값에서 숫자만 남기고 쉼표 추가
            const value = input.value.replace(/[^0-9]/g, '');
            input.value = formatNumberWithCommas(value);
        }

        function formatNumberWithCommas(number) {
            return number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }

        function startTimer() {
            const blinds = [];
            for (let i = 1; i <= 26; i++) {
                const small = document.getElementById(`small${i}`).value.replace(/,/g, ''); // 쉼표 제거
                const big = document.getElementById(`big${i}`).value.replace(/,/g, '');
                const ante = document.getElementById(`ante${i}`).value.replace(/,/g, '');
                const dur = document.getElementById(`dur${i}`).value;
                const brk = document.getElementById(`brk${i}`).value;

                if (small && big && dur) {
                    blinds.push({
                        level: i,
                        small: small, // 쉼표 제거된 값
                        big: big,
                        ante: ante,
                        duration: dur,
                        break: brk
                    });
                }
            }
            localStorage.setItem('blinds', JSON.stringify(blinds));
            window.location.href = 'timer.html';
        }
    </script>
</body>
</html>
